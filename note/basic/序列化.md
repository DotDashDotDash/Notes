# Java序列化

## 序列化的两种方式

* 实现Serializable接口
* 实现Externalizable接口

## 序列化的用途

* Java对象存储到本地磁盘，必须实现序列化
* Java对象在网络中传输，必须实现序列化
* 远程方法调用RMI(remote method invoke)使用的参数都必须是可序列化的

## 序列化的特点

* 序列化只能序列化非静态变量，静态变量无法实现序列化
* 子类要想序列化，父类也必须实现序列化
* 多次调用writeObject()不会使对象序列化多次
* 反序列化的顺序要和序列化的顺序一样
* **如果一个对象之前没有序列化为字节，第一次序列化就序列化为字节，但是如果对象已经序列化，下一次直接指示编号**
* 也可以重写Serializable接口中的readObject()以及writeObject()来实现序列化/反序列化的额外的一些操作

## 序列化存在的问题

* 不会序列化同一个对象两次，冗余的用编号代替，假如后一次序列化的时候对象发生了变化，只会有先前的编号

## transient

transient会阻止对象序列化，但是不代表不会把相应的字段写到流当中，只是不会把运行时的状态序列化进去，反序列化的时候得到的是该字段的默认初始值，比如int是0

## 参考链接

* [Java序列化，看这篇就够了](https://www.cnblogs.com/9dragon/p/10901448.html)
* [Java冒险——序列化(精)](https://www.infoq.cn/article/cf-java-object-serialization-rmi/)
