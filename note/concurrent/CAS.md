# CAS

CAS(Compare And Swap/Set)，其包含三个参数CAS(V,E, N)，V表示要更新的数值，E表示期望的数值，N表示更新后的数值，只有比较V和E相等，才会更新为N

CAS是抱着乐观的心态进行操作，即认为每次操作都会成功，但是多个线程同时对一个数据进行CAS操作的时候，只有一个数据会操作成功，其他的线程并不会因此终止而是可以继续进行CAS尝试

AtomicXXX里面对于多线程同时操作一个实例时，已经取得实例操作权的线程具有排他性，也就是说，**其他取得操作权失败的线程会自旋来等待**

相比于synchronized，CAS是一种非阻塞的方法

## ABA问题

CAS操作会导致ABA问题，部分乐观锁为了解决ABA问题，将每个实例加上了Version，即版本号，版本号只会大不会小，从而解决了ABA问题
