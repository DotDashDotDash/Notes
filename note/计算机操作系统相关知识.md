## 计算机操作系统相关知识

> ### 存储板块

1. **常见的串行访问存储器**

```markdown
串行访问存储器是对存储单元进行读写的时候，需要按照其物理位置的先后顺序寻址
串行访问存储器包括“顺序存取存储器(磁带)”和“直接存取存储器(磁盘)”
```

2. **顺序存取存储器和直接存取存储器以及RAM之间的区别**

```markdown
顺序存取存储器只能按照顺序存取
RAM可以按照随机访问任何一个单元
直接存取存储器介于两者之间，寻取信息的时候先寻找整个存储器的某个小区域(例如磁道)，再在小区域内部查找
```

3. **什么是相联存储器？**

```markdown
其基本原理是把存储单元所存内容的某一部分作为检索项去检索该存储器，并将存储器中与该检索项符合的存储单元内容读出或者写入
```

4. **操作系统程序保存在哪里？**

```markdown
操作系统程序保存在硬盘上，首先要先将其引导到主存中，而引导程序通常放在ROM中
而程序运行时需要读写操作，因此应该采用RAM
```

5. **双端口RAM的读写冲突**

```markdown
双端口RAM并不是对同一个内存地址单元进行操作的时候都会发生冲突
1. A读取地址M，B写地址M，会冲突
2. A写地址M，B写地址M，会冲突
3. A读地址M，B读地址M，会冲突
```

6. **高位交叉编址和低位交叉编址谁更好的利用了局部性原理？**

```markdown
看起来高位交叉编址的存储器内容连续存放好像更加满足程序的局部性原理，但是其实是低位交叉编址更加满足！！！！！！
高位交叉编址并没有提高存储器的带宽，相反低位交叉编址虽然不连续，但是连续读取的带宽变大了，更像是为了满足程序局部性原理
而设计的产物
```

7. **有关低位交叉编址的误区！！！！**

```markdown
Pre: 假设一个四体低位交叉存储器，每个模块的容量是64K × 32位，存取周期为200ns，总线周期为50ns

说法：在50ns内，每个模块能向CPU提供32位信息？
分析：这种说法是错误的，是在200ns内，整个存储器能向CPU提供128位信息，但是每一个存储体仍然需要200ns才能向整个存储器提供32
	 位信息
```

8. **Cache写策略**

```markdown
1. Cache写命中的时候
	(1) 全写法：CPU将数据同时写回Cache和主存
	(2) 写回法：CPU只写入Cache不写入主存，等到换出Cache块的时候才写入主存，需要设置脏位
2. Cache写不命中的时候
	(1) 写分配法：加载主存中的块到Cache中，然后更新这个Cache，试图利用空间局部性，但是每一次不命中都要替换
	(2) 非写分配法：只写主存，不调块

非写分配法通常和全写法合用，写分配法通常和写回法合用
```

9. **加快地址转换的快表TLB**

```markdown
TLB是由高速缓冲存储器构成，其不是放在内存当中，而是放在专门的存储器
TLB的内容基本包含3个部分：Tag、Valid、实页号
```

10. **虚拟地址VA和物理地址PA之间的关系(重要)**

```markdown
//2018年王道真题
Q: 假设计算机按照字节编址，虚拟地址空间大小为16MB，物理地址大小为1MB，页面大小为4KB，Cache采用直接映射方式，共8行，主存
   和Cache之间交换的块大小为32B。判断虚拟地址位数，物理地址位数，虚页号位数，页框号位数，TLB中的tag位数，Cache中的Tag位数

1. 虚拟地址空间大小为16MB，因此虚拟地址位数为24位
2. 物理地址空间大小为1MB，因此物理地址位数为20位
3. 页面大小为4KB，即12位，因此VAP位数为24-12=12位，PAP位数为20-12=8位
4. PA为24位，页大小为4KB，因此TLB中的tag标记为共24-12=12位
5. PA的组成为：Tag,Index,Offset，其中块大小为32B，Offset共5位，直接映射共8行，Index共3位，故Tag=20-5-3=12位

补：若TLB还要组相联，还要从虚页号VAP中划分
```

